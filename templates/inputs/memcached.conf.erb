# Monitor Memcached stats:
[[inputs.memcached]]

<% if @drop -%>
  # Drop metrics matching these patterns:
  drop = <%= @drop.inspect %>

<% end -%>
<% if @interval -%>
  # Specific update interval for this plugin:
  interval = "<%= @interval %>"

<% end -%>
<% if @name_override -%>
  # Override the measurement-name for this plugin:
  name_override = "<%= @name_override %>"

<% end -%>
<% if @name_prefix -%>
  # Prefix the measurement-name for this plugin:
  name_prefix = "<%= @name_prefix %>"

<% end -%>
<% if @name_suffix -%>
  # Suffix the measurement-name for this plugin:
  name_suffix = "<%= @name_suffix %>"

<% end -%>
<% if @pass -%>
  # Pass metrics matching these patterns:
  pass = <%= @pass.inspect %>

<% end -%>
<% if @tags -%>
  # Optional tags specifically for this plugin:
  tags = <%= @tags.inspect %>

<% end -%>
  ## An array of address to gather stats about. Specify an ip on hostname
  ## with optional port. ie localhost, 10.0.0.1:11211, etc.
  servers = <%= @servers.inspect %>

  ## An optional array of unix_sockets to connect to Memcached on:
<% if @unix_sockets -%>
  unix_sockets = <%= @unix_sockets.inspect %>
<% else -%>
  # unix_sockets = ["/var/run/memcached.sock"]
<% end -%>

<% if @tagdrop -%>
  # Drop metrics with these tags:
  [inputs.memcached.tagdrop]
    <% @tagdrop.sort.each do |key, value| -%>
    <%= key %> = <%= value %>
    <% end -%>

<% end -%>
<% if @tagpass -%>
  # Pass metrics with these tags:
  [inputs.memcached.tagpass]
    <% @tagpass.sort.each do |key, value| -%>
    <%= key %> = <%= value %>
    <% end -%>

<% end -%>